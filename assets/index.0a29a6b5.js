import{s,h as n}from"./server.21e9a014.js";import{n as i}from"./index.148505a1.js";const l={name:"home",data(){return{value:"",lastTime:null,data:{},hot:{}}},methods:{search(){if(!this.value.trim())return clearTimeout(this.lastTime);this.lastTime&&clearTimeout(this.lastTime),this.lastTime=setTimeout(async()=>{this.data=await s(this.value)},200)}},async created(){this.hot=await n()}};var r=function(){var t=this,a=t._self._c;return a("div",[a("van-search",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD"},on:{input:function(e){return t.search(t.value)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t.value?a("div",{staticClass:"new-box"},[a("div",{staticClass:"title"},[t._v("\u6700\u4F73\u5339\u914D")]),Object.keys(t.data).length?a("div",t._l(t.data.result.songs,function(e){return a("musicCell",{key:e.id,attrs:{id:e.id,title:e.name,size:"large",artists:e.artists[0].name}})}),1):t._e()]):a("div",{staticClass:"new-box"},[a("div",{staticClass:"title"},[t._v("\u70ED\u95E8\u641C\u7D22")]),Object.keys(t.hot).length?a("div",{staticClass:"hot_name_wrap"},t._l(t.hot.result.hots,function(e){return a("van-button",{key:e.first,staticClass:"hot_item",attrs:{round:"",type:"default"},on:{click:function(_){t.value=e.first,t.search()}}},[t._v(t._s(e.first))])}),1):t._e()])],1)},c=[],o=i(l,r,c,!1,null,"71e05fc3",null,null);const h=o.exports;export{h as default};
